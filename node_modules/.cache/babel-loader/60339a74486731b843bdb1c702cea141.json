{"ast":null,"code":"import _toConsumableArray from\"C:/Users/hp/Downloads/SuperMarket--master/SuperMarket--master/Grocery Store/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/hp/Downloads/SuperMarket--master/SuperMarket--master/Grocery Store/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Products from'./jsondata';import Pr from'./product';import Nav from'./navbar';import Hero from'./hero_sec';import CartList from'./cartlist';import Footer from'./footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var s=new Set();var Cat=function Cat(){var _useState=useState(Products),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var Result=data;var filterResult=function filterResult(cartitem){Result=Products.filter(function(curData){return curData.category===cartitem;});setData(Result);};var searchCat=function searchCat(val){Result=Products.filter(function(item){return item.title.toLowerCase().includes(val.toLowerCase());});setData(Result);};var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cart=_useState4[0],setCart=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showCart=_useState6[0],setShowCart=_useState6[1];var addToCart=function addToCart(data){if(s.has(data.id)){alert(\"Item Already Taken\");return;}else{setCart([].concat(_toConsumableArray(cart),[data]));console.log(\"data\",cart);s.add(data.id);console.log(s);}};var handleShow=function handleShow(value){setShowCart(value);};var handleChange=function handleChange(item,d){var ind=cart.indexOf(item);var arr=cart;arr[ind].amount+=d;if(arr[ind].amount===0)arr[ind].amount=1;setCart(_toConsumableArray(arr));};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"shop-cart-main\",children:[/*#__PURE__*/_jsx(Nav,{count:cart.length,handleShow:handleShow,searchCat:searchCat}),localStorage.setItem(\"count\",cart.length),localStorage.getItem(\"count\")<=0?/*#__PURE__*/_jsx(_Fragment,{children:localStorage.setItem(\"TotalCost\",0)}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),showCart?/*#__PURE__*/_jsx(CartList,{cart:cart,setCart:setCart,handleChange:handleChange}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Hero,{filterResult:filterResult}),/*#__PURE__*/_jsx(Pr,{arr:Result,addToCart:addToCart}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Footer,{})]})]})});};export default Cat;","map":{"version":3,"names":["React","useState","Products","Pr","Nav","Hero","CartList","Footer","s","Set","Cat","data","setData","Result","filterResult","cartitem","filter","curData","category","searchCat","val","item","title","toLowerCase","includes","cart","setCart","showCart","setShowCart","addToCart","has","id","alert","console","log","add","handleShow","value","handleChange","d","ind","indexOf","arr","amount","length","localStorage","setItem","getItem"],"sources":["C:/Users/hp/Downloads/SuperMarket--master/SuperMarket--master/Grocery Store/src/cat_sec.js"],"sourcesContent":["import React ,{useState} from 'react';\r\nimport Products from './jsondata';\r\nimport Pr from './product';\r\nimport Nav from './navbar';\r\nimport Hero from './hero_sec';\r\nimport CartList from './cartlist';\r\nimport  Footer  from './footer';\r\n\r\nconst s=new Set();\r\nconst Cat=()=>{\r\n\r\n    const[data,setData]=useState(Products);\r\n\r\n   var Result=data;\r\n\r\n\r\n    const filterResult=(cartitem)=>{\r\n         Result=Products.filter((curData)=>{\r\n            return curData.category===cartitem;\r\n        })\r\n       \r\n        setData(Result);\r\n       \r\n\r\n    }\r\n   \r\n\r\nconst searchCat=(val)=>{\r\nResult=Products.filter((item)=>{\r\n return  item.title.toLowerCase().includes(val.toLowerCase());\r\n   \r\n})\r\nsetData(Result);\r\n}\r\n\r\n\r\n\r\n    const[cart,setCart]=useState([]);\r\n    const[showCart,setShowCart]=useState(false);\r\n\r\n\r\n\r\nconst addToCart=(data)=>{\r\n    \r\nif(s.has(data.id)){\r\n    alert(\"Item Already Taken\");\r\n    return;\r\n}\r\nelse {\r\n    setCart([...cart,data]);\r\n    console.log(\"data\",cart);\r\n    s.add(data.id);\r\n   \r\n    console.log(s);\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\nconst handleShow=(value)=>{\r\n    setShowCart(value);\r\n}\r\n\r\nconst handleChange = (item, d) => {\r\n    const ind = cart.indexOf(item);\r\n    const arr = cart;\r\n    arr[ind].amount += d;\r\n\r\n    if (arr[ind].amount === 0) arr[ind].amount = 1;\r\n    setCart([...arr]);\r\n  }\r\n\r\n\r\n    return(\r\n     \r\n      <>\r\n      <div  className=\"shop-cart-main\" >\r\n        \r\n    \r\n      <Nav count={cart.length} handleShow={handleShow} searchCat={searchCat}/>\r\n      {localStorage.setItem(\"count\",cart.length)}\r\n      {localStorage.getItem(\"count\")<=0 ? (<>{localStorage.setItem(\"TotalCost\",0)}</>):(<></>)} \r\n  <br/>\r\n\r\n  <br/>\r\n\r\n {\r\n    showCart?\r\n   <CartList cart={cart} setCart={setCart} handleChange={handleChange} />:\r\n<div>\r\n<Hero filterResult={filterResult}></Hero>\r\n\r\n    <Pr arr={Result}  addToCart={addToCart}></Pr>\r\n    <br/>\r\n    <Footer/> \r\n  \r\n</div>\r\n\r\n \r\n }\r\n      \r\n      </div>\r\n      \r\n      </>\r\n       \r\n    );\r\n    \r\n}\r\n\r\nexport default Cat;"],"mappings":"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"},"metadata":{},"sourceType":"module"}