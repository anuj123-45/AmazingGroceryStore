{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/hp/Downloads/SuperMarket--master/SuperMarket--master/Grocery Store/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/hp/Downloads/SuperMarket--master/SuperMarket--master/Grocery Store/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/hp/Downloads/SuperMarket--master/SuperMarket--master/Grocery Store/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/hp/Downloads/SuperMarket--master/SuperMarket--master/Grocery Store/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/hp/Downloads/SuperMarket--master/SuperMarket--master/Grocery Store/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./first.css';import{Link,useNavigate}from\"react-router-dom\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegistrationForm=function RegistrationForm(){var _useState=useState({name:'',password:'',username:'',email:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1];var navigate=useNavigate();var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormData(function(prevFormData){return _objectSpread(_objectSpread({},prevFormData),{},_defineProperty({},name,value));});setFormErrors(function(prevFormErrors){return _objectSpread(_objectSpread({},prevFormErrors),{},_defineProperty({},name,''));});};var validateForm=function validateForm(){var errors={};if(!formData.name.trim()){errors.name='Please enter your name';}if(!formData.password){errors.password='Please enter a password';}if(!formData.username.trim()){errors.username='Please enter a username';}if(!formData.email.trim()){errors.email='Please enter an email address';}else if(!isValidEmail(formData.email.trim())){errors.email='Please enter a valid email address';}setFormErrors(errors);return Object.keys(errors).length===0;};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!validateForm()){_context.next=11;break;}_context.prev=2;_context.next=5;return axios.post(\"https://grocerybackendupdated.onrender.com/ecommerce/register\",{name:formData.name,password:formData.password,username:formData.username,email:formData.email}).then(function(res){console.log(res.data);if(res.status===201){alert(\"Account created\");navigate(\"/login\");}else{if(res.data.error.keyValue.username!==undefined){alert(\"Username already exists\");}else if(res.data.error.keyValue.email!==undefined){alert(\"Email already exists\");}}});case 5:_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 10:// Form is valid, perform further actions\nconsole.log('Form submitted:',formData);case 11:case\"end\":return _context.stop();}}},_callee,null,[[2,7]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var isValidEmail=function isValidEmail(email){// Basic email validation regex\nvar emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;return emailRegex.test(email);};return/*#__PURE__*/_jsx(\"div\",{className:\"regis\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"registration-form\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:\"white\"},children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:formData.name,onChange:handleChange}),formErrors.name&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:formErrors.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",value:formData.username,onChange:handleChange}),formErrors.username&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:formErrors.username})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleChange}),formErrors.email&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:formErrors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleChange}),formErrors.password&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:formErrors.password})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{backgroundColor:\"yellow\",color:\"black\"},children:\"Register\"}),/*#__PURE__*/_jsxs(Link,{to:\"/login\",style:{margin:\"5px\",color:\"orange\"},children:[/*#__PURE__*/_jsx(\"b\",{children:\"Already have an account ?\"}),\" \"]})]})]})});};export default RegistrationForm;","map":{"version":3,"names":["React","useState","Link","useNavigate","axios","RegistrationForm","name","password","username","email","formData","setFormData","formErrors","setFormErrors","navigate","handleChange","e","target","value","prevFormData","prevFormErrors","validateForm","errors","trim","isValidEmail","Object","keys","length","handleSubmit","preventDefault","post","then","res","console","log","data","status","alert","error","keyValue","undefined","emailRegex","test","color","backgroundColor","margin"],"sources":["C:/Users/hp/Downloads/SuperMarket--master/SuperMarket--master/Grocery Store/src/signup.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './first.css';\r\nimport { Link,useNavigate } from \"react-router-dom\";\r\nimport axios from 'axios';\r\n\r\nconst RegistrationForm = () => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    password: '',\r\n    username: '',\r\n    email: '',\r\n  });\r\n\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const navigate=useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevFormData) => ({ ...prevFormData, [name]: value }));\r\n    setFormErrors((prevFormErrors) => ({ ...prevFormErrors, [name]: '' }));\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const errors = {};\r\n\r\n    if (!formData.name.trim()) {\r\n      errors.name = 'Please enter your name';\r\n    }\r\n\r\n    if (!formData.password) {\r\n      errors.password = 'Please enter a password';\r\n    }\r\n\r\n    if (!formData.username.trim()) {\r\n      errors.username = 'Please enter a username';\r\n    }\r\n\r\n    if (!formData.email.trim()) {\r\n      errors.email = 'Please enter an email address';\r\n    } else if (!isValidEmail(formData.email.trim())) {\r\n      errors.email = 'Please enter a valid email address';\r\n    }\r\n\r\n    setFormErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  const handleSubmit =  async(e) => {\r\n    e.preventDefault();\r\n\r\n\r\n\r\n    if (validateForm()) {\r\n   \r\n      \r\n      try{\r\n        await axios.post(`https://grocerybackendupdated.onrender.com/ecommerce/register`, {\r\n          name: formData.name,\r\n          password: formData.password,\r\n          username: formData.username,\r\n          email: formData.email\r\n        }).then((res)=>{\r\n          console.log(res.data);\r\n          if(res.status===201){\r\n            alert(\"Account created\");\r\n            navigate(\"/login\");\r\n          }\r\n          else {\r\n        if(res.data.error.keyValue.username!==undefined){\r\n          alert(\"Username already exists\");\r\n        }\r\n         else if(res.data.error.keyValue.email!==undefined){\r\n          alert(\"Email already exists\");\r\n        }\r\n      }\r\n     \r\n       \r\n        })\r\n        \r\n      }\r\n      catch(err){\r\n        console.log(err);\r\n      }\r\n      \r\n  \r\n      // Form is valid, perform further actions\r\n      console.log('Form submitted:', formData);\r\n    }\r\n    \r\n\r\n   \r\n\r\n  };\r\n\r\n  const isValidEmail = (email) => {\r\n    // Basic email validation regex\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    return emailRegex.test(email);\r\n  };\r\n\r\n  return (\r\n    <div className='regis'>\r\n      <div className=\"registration-form\">\r\n      <h2 style={{color:\"white\"}}>Register</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"name\">Name</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"name\"\r\n            name=\"name\"\r\n            value={formData.name}\r\n            onChange={handleChange}\r\n          />\r\n          {formErrors.name && <span className=\"error\">{formErrors.name}</span>}\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"username\">Username</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"username\"\r\n            name=\"username\"\r\n            value={formData.username}\r\n            onChange={handleChange}\r\n          />\r\n          {formErrors.username && (\r\n            <span className=\"error\">{formErrors.username}</span>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"email\">Email</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n          />\r\n          {formErrors.email && <span className=\"error\">{formErrors.email}</span>}\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            value={formData.password}\r\n            onChange={handleChange}\r\n          />\r\n          {formErrors.password && (\r\n            <span className=\"error\">{formErrors.password}</span>\r\n          )}\r\n        </div>\r\n\r\n       \r\n\r\n        <button type=\"submit\" style={{backgroundColor:\"yellow\",color:\"black\"}}>Register</button>\r\n\r\n        <Link to=\"/login\" style={{ margin: \"5px\",color:\"orange\" }}><b>Already have an account ?</b> </Link>\r\n      </form>\r\n    </div>\r\n    </div>\r\n  );\r\n          };\r\n\r\nexport default RegistrationForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}