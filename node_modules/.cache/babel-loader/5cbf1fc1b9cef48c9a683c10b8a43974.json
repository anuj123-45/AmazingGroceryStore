{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/hp/Downloads/SuperMarket--master/SuperMarket--master/Grocery Store/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/hp/Downloads/SuperMarket--master/SuperMarket--master/Grocery Store/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/hp/Downloads/SuperMarket--master/SuperMarket--master/Grocery Store/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/hp/Downloads/SuperMarket--master/SuperMarket--master/Grocery Store/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/hp/Downloads/SuperMarket--master/SuperMarket--master/Grocery Store/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./first.css';import{Link}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1];var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormData(function(prevFormData){return _objectSpread(_objectSpread({},prevFormData),{},_defineProperty({},name,value));});setFormErrors(function(prevFormErrors){return _objectSpread(_objectSpread({},prevFormErrors),{},_defineProperty({},name,''));});};var validateForm=function validateForm(){var errors={};if(!formData.email.trim()){errors.email='Please enter an email address';}else if(!isValidEmail(formData.email.trim())){errors.email='Please enter a valid email address';}if(!formData.password){errors.password='Please enter a password';}setFormErrors(errors);return Object.keys(errors).length===0;};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!validateForm()){_context.next=5;break;}_context.next=4;return axios.post(\"https://grocerybackendupdated.onrender.com/ecommerce/login\",{password:formData.password,email:formData.email}).then(function(res){console.log(res.data);if(res.data.data){alert(res.data.message);window.location=\"/home\";console.log(res);}localStorage.setItem(\"token\",res.data.data);localStorage.setItem(\"UserName\",res.data.user.username);}).catch(function(err){alert(err.response.data.message);});case 4:// Form is valid, perform further actions\nconsole.log('Form submitted:',formData);case 5:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var isValidEmail=function isValidEmail(email){// Basic email validation regex\nvar emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;return emailRegex.test(email);};return/*#__PURE__*/_jsx(\"div\",{className:\"regis2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"registration-form2\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:\"white\"},children:\"Login \"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleChange}),formErrors.email&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:formErrors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleChange}),formErrors.password&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:formErrors.password})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",style:{margin:\"5px\"},children:/*#__PURE__*/_jsx(\"b\",{children:\"New User then Register\"})})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","Link","axios","Login","email","password","formData","setFormData","formErrors","setFormErrors","handleChange","e","target","name","value","prevFormData","prevFormErrors","validateForm","errors","trim","isValidEmail","Object","keys","length","handleSubmit","preventDefault","post","then","res","console","log","data","alert","message","window","location","localStorage","setItem","user","username","catch","err","response","emailRegex","test","color","margin"],"sources":["C:/Users/hp/Downloads/SuperMarket--master/SuperMarket--master/Grocery Store/src/login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './first.css';\r\nimport {Link} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\n\r\nconst Login=()=>{\r\n\r\n  const [formData, setFormData] = useState({\r\n    email: '',    \r\n    password: '',\r\n\r\n  });\r\n\r\n  const [formErrors, setFormErrors] = useState({});\r\n\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prevFormData) => ({ ...prevFormData, [name]: value }));\r\n    setFormErrors((prevFormErrors) => ({ ...prevFormErrors, [name]: '' }));\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const errors = {};\r\n\r\n\r\n    if (!formData.email.trim()) {\r\n        errors.email = 'Please enter an email address';\r\n      } else if (!isValidEmail(formData.email.trim())) {\r\n        errors.email = 'Please enter a valid email address';\r\n      }\r\n\r\n\r\n    if (!formData.password) {\r\n      errors.password = 'Please enter a password';\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    setFormErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  \r\n  const handleSubmit = async(e) => {\r\n    e.preventDefault();\r\n\r\n    if (validateForm()) {\r\n      \r\n      await axios.post(`https://grocerybackendupdated.onrender.com/ecommerce/login`, {\r\n       \r\n          password: formData.password,\r\n          email: formData.email\r\n        }).then((res)=>{\r\n          console.log(res.data);\r\n          \r\n             if(res.data.data){  \r\n             \r\n              alert(res.data.message);\r\n             window.location=\"/home\";\r\n            console.log(res);  \r\n             }\r\n        \r\n             localStorage.setItem(\"token\",res.data.data);\r\n           \r\n          \r\n             localStorage.setItem(\"UserName\",res.data.user.username);\r\n\r\n        }).catch((err)=>{\r\n          alert(err.response.data.message);\r\n        })\r\n        \r\n    \r\n    \r\n      \r\n  \r\n      // Form is valid, perform further actions\r\n      console.log('Form submitted:', formData);\r\n    }\r\n  };\r\n\r\n  const isValidEmail = (email) => {\r\n    // Basic email validation regex\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    return emailRegex.test(email);\r\n  };\r\n\r\n  return (\r\n   <div className='regis2'>\r\n   \r\n   <div className=\"registration-form2\">\r\n      <h2 style={{color:\"white\"}}>Login </h2>\r\n<form onSubmit={handleSubmit}>\r\n\r\n<div className=\"form-group\">\r\n          <label htmlFor=\"email\">Email</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            value={formData.email}\r\n            onChange={handleChange}\r\n          />\r\n          {formErrors.email && <span className=\"error\">{formErrors.email}</span>}\r\n        </div>\r\n\r\n\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            value={formData.password}\r\n            onChange={handleChange}\r\n          />\r\n          {formErrors.password && (\r\n            <span className=\"error\">{formErrors.password}</span>\r\n          )}\r\n        </div>\r\n\r\n\r\n        <button type=\"submit\" >Login</button>\r\n       <Link to=\"/signup\" style={{margin:\"5px\"}}><b>New User then Register</b></Link>\r\n\r\n      \r\n      </form>\r\n    </div>\r\n   </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"szBAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,aAAP,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,wFAGA,GAAMC,MAAK,CAAC,QAANA,MAAM,EAAI,CAEd,cAAgCH,QAAQ,CAAC,CACvCI,KAAK,CAAE,EADgC,CAEvCC,QAAQ,CAAE,EAF6B,CAAD,CAAxC,wCAAOC,QAAP,eAAiBC,WAAjB,eAMA,eAAoCP,QAAQ,CAAC,EAAD,CAA5C,yCAAOQ,UAAP,eAAmBC,aAAnB,eAGA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CAC1B,cAAwBA,CAAC,CAACC,MAA1B,CAAQC,IAAR,WAAQA,IAAR,CAAcC,KAAd,WAAcA,KAAd,CACAP,WAAW,CAAC,SAACQ,YAAD,wCAAwBA,YAAxB,wBAAuCF,IAAvC,CAA8CC,KAA9C,IAAD,CAAX,CACAL,aAAa,CAAC,SAACO,cAAD,wCAA0BA,cAA1B,wBAA2CH,IAA3C,CAAkD,EAAlD,IAAD,CAAb,CACD,CAJD,CAMA,GAAMI,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzB,GAAMC,OAAM,CAAG,EAAf,CAGA,GAAI,CAACZ,QAAQ,CAACF,KAAT,CAAee,IAAf,EAAL,CAA4B,CACxBD,MAAM,CAACd,KAAP,CAAe,+BAAf,CACD,CAFH,IAES,IAAI,CAACgB,YAAY,CAACd,QAAQ,CAACF,KAAT,CAAee,IAAf,EAAD,CAAjB,CAA0C,CAC/CD,MAAM,CAACd,KAAP,CAAe,oCAAf,CACD,CAGH,GAAI,CAACE,QAAQ,CAACD,QAAd,CAAwB,CACtBa,MAAM,CAACb,QAAP,CAAkB,yBAAlB,CACD,CAMDI,aAAa,CAACS,MAAD,CAAb,CACA,MAAOG,OAAM,CAACC,IAAP,CAAYJ,MAAZ,EAAoBK,MAApB,GAA+B,CAAtC,CACD,CArBD,CAwBA,GAAMC,aAAY,4FAAG,iBAAMb,CAAN,oHACnBA,CAAC,CAACc,cAAF,GADmB,IAGfR,YAAY,EAHG,+CAKXf,MAAK,CAACwB,IAAN,8DAAyE,CAE3ErB,QAAQ,CAAEC,QAAQ,CAACD,QAFwD,CAG3ED,KAAK,CAAEE,QAAQ,CAACF,KAH2D,CAAzE,EAIDuB,IAJC,CAII,SAACC,GAAD,CAAO,CACbC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EAEG,GAAGH,GAAG,CAACG,IAAJ,CAASA,IAAZ,CAAiB,CAEhBC,KAAK,CAACJ,GAAG,CAACG,IAAJ,CAASE,OAAV,CAAL,CACDC,MAAM,CAACC,QAAP,CAAgB,OAAhB,CACDN,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACE,CAEDQ,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA6BT,GAAG,CAACG,IAAJ,CAASA,IAAtC,EAGAK,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAgCT,GAAG,CAACG,IAAJ,CAASO,IAAT,CAAcC,QAA9C,EAEJ,CAnBG,EAmBDC,KAnBC,CAmBK,SAACC,GAAD,CAAO,CACdT,KAAK,CAACS,GAAG,CAACC,QAAJ,CAAaX,IAAb,CAAkBE,OAAnB,CAAL,CACD,CArBG,CALW,QAgCjB;AACAJ,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+BxB,QAA/B,EAjCiB,sDAAH,kBAAZkB,aAAY,4CAAlB,CAqCA,GAAMJ,aAAY,CAAG,QAAfA,aAAe,CAAChB,KAAD,CAAW,CAC9B;AACA,GAAMuC,WAAU,CAAG,4BAAnB,CACA,MAAOA,WAAU,CAACC,IAAX,CAAgBxC,KAAhB,CAAP,CACD,CAJD,CAMA,mBACC,YAAK,SAAS,CAAC,QAAf,uBAEA,aAAK,SAAS,CAAC,oBAAf,wBACG,WAAI,KAAK,CAAE,CAACyC,KAAK,CAAC,OAAP,CAAX,oBADH,cAEH,cAAM,QAAQ,CAAErB,YAAhB,wBAEA,aAAK,SAAS,CAAC,YAAf,wBACU,cAAO,OAAO,CAAC,OAAf,mBADV,cAEU,cACE,IAAI,CAAC,OADP,CAEE,EAAE,CAAC,OAFL,CAGE,IAAI,CAAC,OAHP,CAIE,KAAK,CAAElB,QAAQ,CAACF,KAJlB,CAKE,QAAQ,CAAEM,YALZ,EAFV,CASWF,UAAU,CAACJ,KAAX,eAAoB,aAAM,SAAS,CAAC,OAAhB,UAAyBI,UAAU,CAACJ,KAApC,EAT/B,GAFA,cAgBQ,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,UAAf,sBADF,cAEE,cACE,IAAI,CAAC,UADP,CAEE,EAAE,CAAC,UAFL,CAGE,IAAI,CAAC,UAHP,CAIE,KAAK,CAAEE,QAAQ,CAACD,QAJlB,CAKE,QAAQ,CAAEK,YALZ,EAFF,CASGF,UAAU,CAACH,QAAX,eACC,aAAM,SAAS,CAAC,OAAhB,UAAyBG,UAAU,CAACH,QAApC,EAVJ,GAhBR,cA+BQ,eAAQ,IAAI,CAAC,QAAb,mBA/BR,cAgCO,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,CAAmB,KAAK,CAAE,CAACyC,MAAM,CAAC,KAAR,CAA1B,uBAA0C,6CAA1C,EAhCP,GAFG,GAFA,EADD,CA4CD,CAhID,CAkIA,cAAe3C,MAAf"},"metadata":{},"sourceType":"module"}